<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Posts - Real Estate Market</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f5f5f5; color: #333; }

    /* Header / Navigation */
    header { background-color: #000; color: white; padding: 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
    .header-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
    .logo { font-size: 24px; font-weight: bold; cursor: pointer; }
    nav { display: flex; gap: 30px; }
    nav a { color: white; text-decoration: none; transition: color 0.3s; }
    nav a:hover { color: #666; }
    .auth-buttons { display: flex; gap: 15px; }
    button { padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.3s; }
    .btn-back { background-color: #333; color: white; }
    .btn-back:hover { background-color: #555; }
    .btn-publish { background: #000; color: white; font-weight: 600; border: 2px solid #fff; }
    .btn-publish:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); }

    /* Main Container */
    .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }

    /* Page Header */
    .page-header { background-color: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.08); margin-bottom: 30px; }
    .page-header h1 { font-size: 32px; color: #000; margin-bottom: 10px; }
    .page-header p { color: #666; font-size: 16px; }

    /* Stats Section */
    .stats-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .stat-card { background-color: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.08); text-align: center; }
    .stat-number { font-size: 36px; font-weight: 700; color: #000; margin-bottom: 5px; }
    .stat-label { color: #666; font-size: 14px; }
    .stat-card.verified .stat-number { color: #000; }
    .stat-card.pending .stat-number { color: #666; }
    .stat-card.views .stat-number { color: #333; }

    /* Filters */
    .filters { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.08); margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap; align-items: center; }
    .filters select, .filters input { padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }
    .filters input[type="text"] { flex: 1; min-width: 200px; }
    .filters select { min-width: 150px; }
    .btn-filter { background-color: #000; color: white; padding: 10px 20px; }
    .btn-filter:hover { background-color: #333; }

    /* Posts Grid */
    .posts-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
    
    .post-card { background-color: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.08); transition: transform 0.3s, box-shadow 0.3s; }
    .post-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.15); }

    .post-image { width: 100%; height: 200px; background: #e0e0e0; display: flex; align-items: center; justify-content: center; color: #666; font-size: 14px; position: relative; }
    .post-status { position: absolute; top: 10px; right: 10px; padding: 5px 12px; border-radius: 999px; font-size: 11px; font-weight: 700; background-color: rgba(255,255,255,0.9); }
    .post-status.active { color: #000; }
    .post-status.pending { color: #888; }
    .post-status.inactive { color: #666; }

    .post-content { padding: 20px; }
    .post-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; color: #000; }
    .post-type { color: #000; font-size: 12px; font-weight: 600; text-transform: uppercase; margin-bottom: 8px; }
    .post-address { color: #666; font-size: 13px; margin-bottom: 12px; display: flex; align-items: center; gap: 5px; }
    .post-address::before { content: 'üìç'; }
    .post-price { font-size: 20px; font-weight: 700; color: #000; margin-bottom: 15px; }

    .post-stats { display: flex; justify-content: space-around; border-top: 1px solid #eee; border-bottom: 1px solid #eee; padding: 12px 0; margin-bottom: 15px; font-size: 12px; color: #666; }
    .stat-item { text-align: center; }
    .stat-item strong { display: block; color: #000; font-size: 16px; margin-bottom: 3px; }

    .post-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .post-actions button { padding: 10px; border-radius: 4px; font-size: 12px; font-weight: 600; }
    .btn-edit { background-color: #333; color: white; }
    .btn-edit:hover { background-color: #555; }
    .btn-delete { background-color: #666; color: white; }
    .btn-delete:hover { background-color: #888; }
    .btn-toggle { background-color: #999; color: white; grid-column: span 2; }
    .btn-toggle:hover { background-color: #aaa; }
    .btn-toggle.active { background-color: #000; }
    .btn-toggle.active:hover { background-color: #333; }
    .btn-reviews { background-color: #555; color: white; grid-column: span 2; }
    .btn-reviews:hover { background-color: #777; }

    /* Empty State */
    .empty-state { background-color: white; padding: 60px 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.08); text-align: center; }
    .empty-state-icon { font-size: 80px; margin-bottom: 20px; opacity: 0.5; }
    .empty-state h2 { font-size: 24px; color: #000; margin-bottom: 10px; }
    .empty-state p { color: #666; margin-bottom: 25px; }
    .btn-create { background: #000; color: white; padding: 12px 30px; font-size: 16px; font-weight: 600; }
    .btn-create:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); }

    /* Modal */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); z-index: 1000; justify-content: center; align-items: center; }
    .modal.show { display: flex; }
    .modal-content { background-color: white; padding: 30px; border-radius: 8px; max-width: 500px; width: 90%; box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
    .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .modal-header h2 { font-size: 24px; color: #000; }
    .modal-close { background: none; border: none; font-size: 28px; color: #999; cursor: pointer; padding: 0; width: 30px; height: 30px; }
    .modal-close:hover { color: #333; }
    .modal-body p { color: #666; margin-bottom: 20px; font-size: 16px; }
    .modal-actions { display: flex; gap: 10px; justify-content: flex-end; }
    .btn-cancel { background-color: #95a5a6; color: white; padding: 10px 20px; }
    .btn-cancel:hover { background-color: #7f8c8d; }
    .btn-confirm { background-color: #666; color: white; padding: 10px 20px; }
    .btn-confirm:hover { background-color: #c0392b; }

    /* Reviews Modal */
    .reviews-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); z-index: 1001; justify-content: center; align-items: center; overflow-y: auto; }
    .reviews-modal.show { display: flex; }
    .reviews-modal-content { background-color: white; padding: 30px; border-radius: 8px; max-width: 800px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3); margin: 20px; }
    .reviews-modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding-bottom: 20px; border-bottom: 2px solid #f0f0f0; }
    .reviews-modal-header h2 { font-size: 24px; color: #000; }
    .reviews-summary { display: flex; align-items: center; gap: 20px; margin-bottom: 25px; padding: 20px; background: #f8f9fa; border-radius: 8px; }
    .reviews-score-big { font-size: 48px; font-weight: 700; color: #000; }
    .reviews-details-big { display: flex; flex-direction: column; }
    .stars-big { color: #888; font-size: 24px; margin-bottom: 8px; }
    .reviews-count-big { color: #666; font-size: 14px; }
    .review-item { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 15px; }
    .review-item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
    .reviewer-info-modal { display: flex; align-items: center; gap: 12px; }
    .reviewer-avatar-modal { width: 45px; height: 45px; background: #000; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px; }
    .reviewer-name-modal { font-weight: 600; color: #000; margin-bottom: 3px; }
    .review-date-modal { font-size: 12px; color: #999; }
    .review-rating-modal { color: #888; font-size: 16px; }
    .review-text-modal { color: #555; line-height: 1.6; }

    /* Notification */
    @keyframes slideInRight { from { transform: translateX(400px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    @keyframes slideOutRight { from { transform: translateX(0); opacity: 1; } to { transform: translateX(400px); opacity: 0; } }

    /* Footer */
    footer { background-color: #000; color: white; padding: 40px 20px; margin-top: 60px; }
    .footer-content { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; }
    .footer-section h3 { margin-bottom: 15px; font-size: 18px; }
    .footer-section ul { list-style: none; }
    .footer-section a { color: #ecf0f1; text-decoration: none; line-height: 2; transition: color 0.3s; }
    .footer-section a:hover { color: #333; }
    .footer-bottom { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); color: #95a5a6; }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-container">
      <div class="logo" onclick="window.location.href='index.html'">üè† RealEstate</div>
      <nav>
        <a href="my-posts.html" style="color: #333;">My Posts</a>
      </nav>
      <div class="auth-buttons">
        <button class="btn-publish" onclick="window.location.href='publish.html'">üìù Publish Property</button>
        <button class="btn-back" onclick="window.location.href='index.html'">‚Üê Back to Home</button>
      </div>
    </div>
  </header>

  <!-- Main Container -->
  <div class="container">
    <!-- Page Header -->
    <div class="page-header">
      <h1>My Posts</h1>
      <p>Manage and track all your published properties</p>
    </div>

    <!-- Stats Section -->
    <div class="stats-container">
      <div class="stat-card">
        <div class="stat-number" id="total-posts">0</div>
        <div class="stat-label">Total Posts</div>
      </div>
      <div class="stat-card verified">
        <div class="stat-number" id="active-posts">0</div>
        <div class="stat-label">Active Posts</div>
      </div>
      <div class="stat-card pending">
        <div class="stat-number" id="inactive-posts">0</div>
        <div class="stat-label">Inactive Posts</div>
      </div>
      <div class="stat-card views">
        <div class="stat-number" id="total-views">0</div>
        <div class="stat-label">Total Views</div>
      </div>
    </div>

    <!-- Filters -->
    <div class="filters">
      <input type="text" id="search-input" placeholder="Search by title or address..." />
      <select id="status-filter">
        <option value="all">All Status</option>
        <option value="active">Active</option>
        <option value="inactive">Inactive</option>
      </select>
      <select id="type-filter">
        <option value="all">All Types</option>
        <option value="house">House</option>
        <option value="apartment">Apartment</option>
        <option value="villa">Villa</option>
        <option value="land">Land</option>
      </select>
      <button class="btn-filter" onclick="applyFilters()">üîç Filter</button>
    </div>

    <!-- Posts Grid -->
    <div class="posts-grid" id="posts-grid">
      <!-- Posts will be dynamically loaded here -->
    </div>

    <!-- Empty State (shown when no posts) -->
    <div class="empty-state" id="empty-state" style="display: none;">
      <div class="empty-state-icon">üì≠</div>
      <h2>No Posts Yet</h2>
      <p>You haven't published any properties yet. Start by creating your first listing!</p>
      <button class="btn-create" onclick="window.location.href='publish.html'">üìù Publish Your First Property</button>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal" id="delete-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Confirm Delete</h2>
        <button class="modal-close" onclick="closeDeleteModal()">√ó</button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this property? This action cannot be undone.</p>
      </div>
      <div class="modal-actions">
        <button class="btn-cancel" onclick="closeDeleteModal()">Cancel</button>
        <button class="btn-confirm" onclick="confirmDelete()">Delete</button>
      </div>
    </div>
  </div>

  <!-- Reviews Modal -->
  <div class="reviews-modal" id="reviews-modal">
    <div class="reviews-modal-content">
      <div class="reviews-modal-header">
        <h2 id="reviews-modal-title">Property Reviews</h2>
        <button class="modal-close" onclick="closeReviewsModal()">√ó</button>
      </div>
      <div class="reviews-summary">
        <div class="reviews-score-big" id="modal-reviews-score">4.5</div>
        <div class="reviews-details-big">
          <div class="stars-big" id="modal-reviews-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
          <div class="reviews-count-big" id="modal-reviews-count">Based on 0 reviews</div>
        </div>
      </div>
      <div id="modal-reviews-list">
        <!-- Reviews will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>RealEstate</h3>
        <p>Your trusted platform for buying, selling, and renting properties.</p>
      </div>
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="publish.html">Publish Property</a></li>
          <li><a href="my-posts.html">My Posts</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Support</h3>
        <ul>
          <li><a href="#">Help Center</a></li>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">FAQ</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Legal</h3>
        <ul>
          <li><a href="#">Terms of Service</a></li>
          <li><a href="#">Privacy Policy</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 RealEstate. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Check if user is logged in
    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
    const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');

    if (!isLoggedIn) {
      alert('Please login to view your posts');
      window.location.href = 'login.html';
    }

    // Load published properties from localStorage
    let publishedProperties = JSON.parse(localStorage.getItem('publishedProperties') || '[]');
    let userPosts = publishedProperties.filter(p => p.userEmail === currentUser.email);
    let deletePostIndex = -1;

    // Initialize page
    function init() {
      loadStats();
      renderPosts();
    }

    // Load statistics
    function loadStats() {
      const activePosts = userPosts.filter(p => p.status === 'active').length;
      const inactivePosts = userPosts.filter(p => p.status === 'inactive').length;
      const totalViews = userPosts.reduce((sum, p) => sum + (p.views || 0), 0);

      document.getElementById('total-posts').textContent = userPosts.length;
      document.getElementById('active-posts').textContent = activePosts;
      document.getElementById('inactive-posts').textContent = inactivePosts;
      document.getElementById('total-views').textContent = totalViews;
    }

    // Render posts
    function renderPosts() {
      const grid = document.getElementById('posts-grid');
      const emptyState = document.getElementById('empty-state');

      if (userPosts.length === 0) {
        grid.style.display = 'none';
        emptyState.style.display = 'block';
        return;
      }

      grid.style.display = 'grid';
      emptyState.style.display = 'none';
      grid.innerHTML = '';

      userPosts.forEach((post, index) => {
        const card = createPostCard(post, index);
        grid.appendChild(card);
      });
    }

    // Create post card
    function createPostCard(post, index) {
      const card = document.createElement('div');
      card.className = 'post-card';
      
      const statusClass = post.status === 'active' ? 'active' : 'inactive';
      const statusText = post.status === 'active' ? '‚úì Active' : '‚è∏ Inactive';
      const toggleText = post.status === 'active' ? 'Deactivate' : 'Activate';
      const toggleClass = post.status === 'active' ? 'active' : '';

      card.innerHTML = `
        <div class="post-image">
          ${post.images && post.images.length > 0 ? 
            `<img src="${post.images[0]}" style="width: 100%; height: 100%; object-fit: cover;" />` : 
            'No Image'
          }
          <div class="post-status ${statusClass}">${statusText}</div>
        </div>
        <div class="post-content">
          <div class="post-type">${post.propertyType || 'Property'}</div>
          <div class="post-title">${post.title || 'Untitled Property'}</div>
          <div class="post-address">${post.address || 'No address provided'}</div>
          <div class="post-price">$${Number(post.price || 0).toLocaleString()}</div>
          <div class="post-stats">
            <div class="stat-item">
              <strong>${post.views || 0}</strong>
              <span>Views</span>
            </div>
            <div class="stat-item">
              <strong>${post.inquiries || 0}</strong>
              <span>Inquiries</span>
            </div>
            <div class="stat-item">
              <strong>${post.favorites || 0}</strong>
              <span>Favorites</span>
            </div>
          </div>
          <div class="post-actions">
            <button class="btn-edit" onclick="editPost(${index})">‚úèÔ∏è Edit</button>
            <button class="btn-delete" onclick="openDeleteModal(${index})">üóëÔ∏è Delete</button>
            <button class="btn-toggle ${toggleClass}" onclick="toggleStatus(${index})">${toggleText}</button>
            <button class="btn-reviews" onclick="viewReviews(${index})">‚≠ê View Reviews (${(post.reviews || []).length})</button>
          </div>
        </div>
      `;

      return card;
    }

    // Toggle post status (active/inactive)
    function toggleStatus(index) {
      const post = userPosts[index];
      post.status = post.status === 'active' ? 'inactive' : 'active';
      
      // Update in main publishedProperties array
      const mainIndex = publishedProperties.findIndex(p => 
        p.title === post.title && p.userEmail === post.userEmail && p.timestamp === post.timestamp
      );
      if (mainIndex !== -1) {
        publishedProperties[mainIndex].status = post.status;
        localStorage.setItem('publishedProperties', JSON.stringify(publishedProperties));
      }

      loadStats();
      renderPosts();
      showNotification(`Post ${post.status === 'active' ? 'activated' : 'deactivated'} successfully!`);
    }

    // Edit post
    function editPost(index) {
      const post = userPosts[index];
      // Store the post data for editing
      localStorage.setItem('editingPost', JSON.stringify(post));
      showNotification('Redirecting to edit page...');
      setTimeout(() => {
        window.location.href = 'publish.html?edit=true';
      }, 500);
    }

    // Open delete modal
    function openDeleteModal(index) {
      deletePostIndex = index;
      document.getElementById('delete-modal').classList.add('show');
    }

    // Close delete modal
    function closeDeleteModal() {
      deletePostIndex = -1;
      document.getElementById('delete-modal').classList.remove('show');
    }

    // Confirm delete
    function confirmDelete() {
      if (deletePostIndex === -1) return;

      const post = userPosts[deletePostIndex];
      
      // Remove from main publishedProperties array
      const mainIndex = publishedProperties.findIndex(p => 
        p.title === post.title && p.userEmail === post.userEmail && p.timestamp === post.timestamp
      );
      if (mainIndex !== -1) {
        publishedProperties.splice(mainIndex, 1);
        localStorage.setItem('publishedProperties', JSON.stringify(publishedProperties));
      }

      // Remove from userPosts
      userPosts.splice(deletePostIndex, 1);

      closeDeleteModal();
      loadStats();
      renderPosts();
      showNotification('Post deleted successfully!');
    }

    // Apply filters
    function applyFilters() {
      const searchTerm = document.getElementById('search-input').value.toLowerCase();
      const statusFilter = document.getElementById('status-filter').value;
      const typeFilter = document.getElementById('type-filter').value;

      const allUserPosts = publishedProperties.filter(p => p.userEmail === currentUser.email);

      userPosts = allUserPosts.filter(post => {
        const matchesSearch = !searchTerm || 
          (post.title || '').toLowerCase().includes(searchTerm) || 
          (post.address || '').toLowerCase().includes(searchTerm);
        
        const matchesStatus = statusFilter === 'all' || post.status === statusFilter;
        
        const matchesType = typeFilter === 'all' || 
          (post.propertyType || '').toLowerCase() === typeFilter.toLowerCase();

        return matchesSearch && matchesStatus && matchesType;
      });

      renderPosts();
      showNotification(`Found ${userPosts.length} matching post${userPosts.length !== 1 ? 's' : ''}`);
    }

    // Notification system
    function showNotification(message) {
      const existing = document.querySelector('.notification');
      if (existing) existing.remove();

      const n = document.createElement('div');
      n.className = 'notification';
      n.textContent = message;
      n.style.cssText = `
        position: fixed;
        top: 80px;
        right: 20px;
        background: #000;
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        z-index: 1000;
        animation: slideInRight 0.3s ease-out;
        font-size: 14px;
        font-weight: 500;
      `;
      document.body.appendChild(n);

      setTimeout(() => {
        n.style.animation = 'slideOutRight 0.3s ease-out';
        setTimeout(() => n.remove(), 300);
      }, 3000);
    }

    // Initialize on page load
    window.addEventListener('load', init);

    // Search input real-time filter
    document.getElementById('search-input').addEventListener('input', applyFilters);
    document.getElementById('status-filter').addEventListener('change', applyFilters);
    document.getElementById('type-filter').addEventListener('change', applyFilters);

    // View Reviews
    function viewReviews(index) {
      const post = userPosts[index];
      const modal = document.getElementById('reviews-modal');
      const reviewsList = document.getElementById('modal-reviews-list');
      
      // Set modal title
      document.getElementById('reviews-modal-title').textContent = `Reviews for ${post.title || 'Property'}`;
      
      // Initialize reviews if not exists
      if (!post.reviews) {
        post.reviews = [
          {
            name: 'John Smith',
            initials: 'JS',
            rating: 5,
            date: '2 weeks ago',
            text: 'Great property! Very well maintained and in a perfect location.'
          },
          {
            name: 'Emily Davis',
            initials: 'ED',
            rating: 4,
            date: '1 month ago',
            text: 'Nice place, good value for money. Would recommend viewing it.'
          },
          {
            name: 'Michael Brown',
            initials: 'MB',
            rating: 5,
            date: '2 months ago',
            text: 'Excellent property with modern amenities. The owner was very helpful and responsive.'
          }
        ];
      }
      
      // Calculate average rating
      const avgRating = post.reviews.length > 0 
        ? (post.reviews.reduce((sum, r) => sum + r.rating, 0) / post.reviews.length).toFixed(1)
        : 0;
      
      // Update summary
      document.getElementById('modal-reviews-score').textContent = avgRating;
      const fullStars = Math.floor(avgRating);
      const starsHtml = '‚≠ê'.repeat(fullStars);
      document.getElementById('modal-reviews-stars').innerHTML = starsHtml;
      document.getElementById('modal-reviews-count').textContent = `Based on ${post.reviews.length} review${post.reviews.length !== 1 ? 's' : ''}`;
      
      // Render reviews
      reviewsList.innerHTML = '';
      if (post.reviews.length === 0) {
        reviewsList.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">No reviews yet for this property.</p>';
      } else {
        post.reviews.forEach(review => {
          const reviewItem = document.createElement('div');
          reviewItem.className = 'review-item';
          reviewItem.innerHTML = `
            <div class="review-item-header">
              <div class="reviewer-info-modal">
                <div class="reviewer-avatar-modal">${review.initials}</div>
                <div>
                  <div class="reviewer-name-modal">${review.name}</div>
                  <div class="review-date-modal">${review.date}</div>
                </div>
              </div>
              <div class="review-rating-modal">${'‚≠ê'.repeat(review.rating)}</div>
            </div>
            <div class="review-text-modal">${review.text}</div>
          `;
          reviewsList.appendChild(reviewItem);
        });
      }
      
      modal.classList.add('show');
    }

    // Close reviews modal
    function closeReviewsModal() {
      document.getElementById('reviews-modal').classList.remove('show');
    }
  </script>
</body>
</html>
